{% extends '_base.html' %}
{% load fontawesome %}
{% load bootstrap3 %}
{% bootstrap_css %}
{% bootstrap_javascript jquery=1 %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="/static/admin/css/widgets.css"/>
    <script type="text/javascript" src="/admin/jsi18n/"></script>
    <script type="text/javascript" src="/static/admin/js/jquery.init.js"></script>
    <script type="text/javascript" src="/static/admin/js/core.js"></script>
    <script type="text/javascript" src="/static/admin/js/calendar.js"></script>
    <script type="text/javascript" src="/static/admin/js/admin/DateTimeShortcuts.js"></script>
{% endblock %}

{% block content %}
    {% fontawesome_stylesheet %}
    <div class="form-inline">
        <form method="post" action="/billing/create/">
            {% csrf_token %}
            {% bootstrap_form record_form %}
            <button type="submit" class="btn btn-primary">新增</button>
        </form>
    </div>
    <table class="table table-hover table-condensed ">
        <thead>
        <th>記錄類型</th>
        <th>交易時間</th>
        <th>金額</th>
        <th>操作</th>
        </thead>
        <tbody>
        {% for object in object_list %}
            {% if object.record_type == object.EXPEND %}
                <tr class="active">
                    {% elif object.record_type == object.INCOME %}
                <tr class="warning">
                    {% else %}
                <tr class="info">
            {% endif %}

        <td>{{ object.get_record_type_display }}</td>
        <td>{{ object.transaction_time }}</td>
        <td>{{ object.amount }}</td>
        <td>
            <a href="{% url 'record_detail' object.pk %}">
                <button type="button" class="btn btn-default">{% fontawesome_icon 'eye' %}</button>
            </a>
            <a href="{% url 'record_update' object.pk %}">
                <button type="button" class="btn btn-primary">{% fontawesome_icon 'edit' %}</button>
            </a>
            <a href="{% url 'record_detail' object.pk %}">
                <button type="button" class="btn btn-danger">{% fontawesome_icon 'trash-o' %}</button>
            </a>
        </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}